---
// import Welcome from '../components/Welcome.astro';
import HomeLayout from '../layouts/HomeLayout.astro';
import DemandGeneration from '../components/pagesComponents/demandGeneration/DemandGeneration.astro';
import { SEO_URL } from '../config/urls';
import he from 'he';

// Fetch from WordPress REST API
const res = await fetch(SEO_URL +"499");
const pageData = await res.json();

// Extract Rank Math SEO fields
const seo = pageData.rank_math_meta || {};
const title = seo.title ? he.decode(seo.title) : "Fallback Title";
const description = seo.description ? he.decode(seo.description) : "Fallback description";
const permalink = seo.permalink || "";
---

<HomeLayout title={title} description={description}>
	<DemandGeneration />
</HomeLayout>
